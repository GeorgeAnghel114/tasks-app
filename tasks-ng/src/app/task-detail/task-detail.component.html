<div class="container">

  <h1>My Tasks</h1>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand">Home</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"
            aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <li class="nav-item">
          <a class="nav-link" routerLink="/home">My Tasks</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/all-tasks">All Tasks</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/all-tasks">Add new task</a>
        </li>
      </ul>
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" placeholder="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <li class="nav-item">
          <button class="btn btn-danger" (click)="logout()">Logout</button>
        </li>
      </ul>
    </div>
  </nav>
  <br><br><br>
  <div *ngIf="allTask">
    <form  #myForm="ngForm" (ngSubmit)="updateTask()">
      <div class="form-row">
        <div class="form-group col-md-6">
          <h3>Assigned to: {{newTask.clientEmail}}</h3>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-4">
          <label for="name">Reassign to:</label>
          <select id="name" name="name" [(ngModel)]="allTask.clientEmail"  class="form-control">{{allTask.clientEmail}}
            <option
              *ngFor="let client of (allClients | async)"
              [value]="client.username">
              {{client.username}}</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="subject">Subject</label>
        <input type="text" class="form-control" id="subject" name="subject" [(ngModel)]="allTask.subject" placeholder="{{allTask.subject}}">
      </div>
      <div class="form-group">
        <label for="duedate">Due date: {{newTask.duedate}}</label>
        <input type="date" class="form-control" id="duedate" name="duedate"  [(ngModel)]="allTask.duedate" placeholder="{{allTask.duedate}}">
      </div>
      <div class="form-row">
        <div class="form-group col-md-4">
          <label for="inputState">Status:  {{newTask.status}}</label>
          <select id="inputState" class="form-control" name="inputState" [(ngModel)]="allTask.status">
            <option value="{{allTask.status}}">{{allTask.status}}</option>
            <option value="New">New</option>
            <option value="In progress">In progress</option>
            <option value="Done">Done</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="gridCheck">
          <label class="form-check-label" for="gridCheck">
            Check me out
          </label>
        </div>
      </div>
      <button type="submit" class="btn btn-primary" [disabled]="!myForm.form.valid">Save</button>
      <button type="submit" class="btn btn-danger">Discard</button>
    </form>
  </div>
</div>
